--1 -- CREATE Table Champion2
(
champion_id int NOT NULL,
name varchar(50) UNIQUE,
lore varchar(50),
title text,
gender_id int,
resource_id int,
year_id int,
PRIMARY KEY (champion_id),
FOREIGN KEY (gender_id) REFERENCES Gender(gender_id),
FOREIGN KEY (resource_id) REFERENCES Resource(resource_id),
FOREIGN KEY (year_id) REFERENCES Year(year_id)
)

--2-- ALTER TABLE Champion2
      ADD popularity INT


--3--
INSERT INTO Champion2 (champion_id,name,title,lore,gender_id,resource_id,year_id,popularity) VALUES (
11,
'Fiddlesticks',
'The Ancient Fear',
'Something has awoken in Runeterra. Something ancient. Something terrible. The ageless horror known as Fiddlesticks stalks the edges of mortal society, drawn to areas thick with paranoia where it feeds upon terrorized victims. Wielding a jagged scythe, the haggard, makeshift creature reaps fear itself, shattering the minds of those unlucky enough to survive in its wake. Beware the sounding of the crow, or the whispering of the shape that appears almost human... Fiddlesticks has returned.',
3,
1,
1,
5)

INSERT INTO champion_region VALUES (15,11,14)
INSERT INTO champion_range (champion_range_id, champion_id,range_id ) VALUES (12,11,2)
INSERT INTO champion_specie (champion_species_id, champion_id, specie_id) VALUES (15,11,9)
INSERT INTO champion_position (champion_position_id, champion_id, position_id) VALUES (15,11,2)

--4-- SELECT * FROM Champion2
      ORDER BY name ASC

--5-- SELECT * FROM champions
      WHERE name LIKE '%ar%'

--6--

--7-- DELETE FROM Champion2
      WHERE name = 'Fiddlesticks'

--8-- SELECT c.name,p.name FROM champions c
      JOIN champion_position cp ON c.champion_id = cp.champion_id
      JOIN positions p ON cp.position_id = p.position_id
      

--9-- SELECT r.name,COUNT(c.resource_id) FROM champions c
	JOIN resources r ON c.resource_id = r.resource_id
      GROUP BY c.resource_id
      HAVING COUNT(c.resource_id)

--10-- SELECT * FROM champions c
      JOIN champion_region cr ON c.champion_id = cr.champion_id
      JOIN regions r ON cr.region_id = r.region_id
      WHERE r.name = 'Bilgewater'

--11-- SELECT * FROM champions c
      JOIN champion_region cr ON c.champion_id = cr.champion_id
      GROUP BY cr.champion_id
      HAVING COUNT(cr.champion_id) > 1 

--12-- SELECT * FROM champions c
      JOIN champion_position cp ON c.champion_id = cp.champion_id
      GROUP BY cp.champion_id
      HAVING COUNT(cp.champion_id) > 1

